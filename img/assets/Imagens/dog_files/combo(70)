YUI.add("hermes-template-sub-photo-right-stats",function(n,l){var t=n.Template.Handlebars.revive({1:function(n,l,t,e,a){return" small-text"},3:function(n,l,t,e,a){return" super-small-text"},5:function(n,l,t,e,a){return'\t\t\t<span class="view-count-label">-</span>\n'},7:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(t,"if").call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"viewCount"):o,{name:"if",hash:{},fn:n.program(8,a,0),inverse:n.program(10,a,0),data:a,loc:{start:{line:7,column:3},end:{line:16,column:10}}}))?o:""},8:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="view-count-label">\n\t\t\t\t\t'+n.escapeExpression((r(t,"friendlyNumber")||l&&r(l,"friendlyNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"viewCount"):o,{name:"friendlyNumber",hash:{},data:a,loc:{start:{line:9,column:5},end:{line:9,column:44}}}))+"</span>\n"},10:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="view-count-label">\n'+(null!=(o=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isMobileStats"):l,{name:"if",hash:{},fn:n.program(11,a,0),inverse:n.noop,data:a,loc:{start:{line:12,column:5},end:{line:14,column:12}}}))?o:"")+"\t\t\t\t0</span>\n"},11:function(n,l,t,e,a){return'\t\t\t\t\t\t<svg class="icon icon-view"><use xlink:href="#icon-view"></use></svg>\n'},13:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SINGULAR_VIEW"},data:a,loc:{start:{line:18,column:68},end:{line:18,column:127}}}))},15:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_VIEW"},data:a,loc:{start:{line:18,column:178},end:{line:18,column:235}}}))},17:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="stat-item like-count'+(null!=(o=s(t,"if").call(r,null!=l?s(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:22,column:34},end:{line:22,column:69}}}))?o:"")+(null!=(o=s(t,"if").call(r,null!=l?s(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:22,column:69},end:{line:22,column:115}}}))?o:"")+'">\n'+(null!=(o=s(t,"if").call(r,null!=l?s(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(18,a,0),inverse:n.program(20,a,0),data:a,loc:{start:{line:23,column:3},end:{line:41,column:10}}}))?o:"")+"\t\t</div>\n"},18:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="like-count-label">-</span>\n\t\t\t\t<span class="stats-label">\n\t\t\t\t\t'+n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{count:0,intlName:"likes.LIKES_LABEL"},data:a,loc:{start:{line:26,column:5},end:{line:26,column:57}}}))+"\n\t\t\t\t</span>\n"},20:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=s(t,"if").call(r,null!=(o=null!=(o=null!=(o=null!=l?s(l,"engagement"):l)?s(o,"reactions"):o)?s(o,"like"):o)?s(o,"count"):o,{name:"if",hash:{},fn:n.program(21,a,0),inverse:n.program(23,a,0),data:a,loc:{start:{line:29,column:4},end:{line:37,column:11}}}))?o:"")+'\t\t\t\t<span class="stats-label">\n\t\t\t\t\t'+n.escapeExpression((s(t,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(r,{name:"intlMessage",hash:{count:null!=(o=null!=(o=null!=(o=null!=l?s(l,"engagement"):l)?s(o,"reactions"):o)?s(o,"like"):o)?s(o,"count"):o,intlName:"likes.LIKES_LABEL"},data:a,loc:{start:{line:39,column:5},end:{line:39,column:87}}}))+"\n\t\t\t\t</span>\n"},21:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t<span class="like-count-label">\n\t\t\t\t\t\t'+n.escapeExpression((r(t,"friendlyNumber")||l&&r(l,"friendlyNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=(o=null!=(o=null!=l?r(l,"engagement"):l)?r(o,"reactions"):o)?r(o,"like"):o)?r(o,"count"):o,{name:"friendlyNumber",hash:{},data:a,loc:{start:{line:31,column:6},end:{line:31,column:56}}}))+"\n\t\t\t\t\t</span>\n"},23:function(n,l,t,e,a){return'\t\t\t\t\t<span class="like-count-label">\n\t\t\t\t\t\t0\n\t\t\t\t\t</span>\n'},25:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="stat-item fave-count'+(null!=(o=i(t,"if").call(r,null!=l?i(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:44,column:34},end:{line:44,column:69}}}))?o:"")+(null!=(o=i(t,"if").call(r,null!=l?i(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:44,column:69},end:{line:44,column:115}}}))?o:"")+'">\n'+(null!=(o=i(t,"if").call(r,null!=l?i(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(26,a,0),inverse:n.program(28,a,0),data:a,loc:{start:{line:45,column:3},end:{line:57,column:10}}}))?o:"")+'\t\t\t<span class="stats-label">'+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"faveCount"):o,"===",1,{name:"ifCond",hash:{},fn:n.program(33,a,0),inverse:n.noop,data:a,loc:{start:{line:58,column:29},end:{line:58,column:139}}}))?o:"")+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"faveCount"):o,"!==",1,{name:"ifCond",hash:{},fn:n.program(35,a,0),inverse:n.noop,data:a,loc:{start:{line:58,column:139},end:{line:58,column:247}}}))?o:"")+"</span>\n\t\t</div>\n"},26:function(n,l,t,e,a){return'\t\t\t\t<span class="fave-count-label">-</span>\n'},28:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(t,"if").call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"faveCount"):o,{name:"if",hash:{},fn:n.program(29,a,0),inverse:n.program(31,a,0),data:a,loc:{start:{line:48,column:4},end:{line:56,column:11}}}))?o:""},29:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t<span class="fave-count-label">\n\t\t\t\t\t\t'+n.escapeExpression((r(t,"friendlyNumber")||l&&r(l,"friendlyNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"faveCount"):o,{name:"friendlyNumber",hash:{},data:a,loc:{start:{line:50,column:6},end:{line:50,column:45}}}))+"\n\t\t\t\t\t</span>\n"},31:function(n,l,t,e,a){return'\t\t\t\t\t<span class="fave-count-label">\n\t\t\t\t\t\t0\n\t\t\t\t\t</span>\n'},33:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SINGULAR_FAVE"},data:a,loc:{start:{line:58,column:69},end:{line:58,column:128}}}))},35:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_FAVE"},data:a,loc:{start:{line:58,column:179},end:{line:58,column:236}}}))},37:function(n,l,t,e,a){return'\t\t\t<span class="comment-count-label">-</span>\n'},39:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(t,"if").call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"commentCount"):o,{name:"if",hash:{},fn:n.program(40,a,0),inverse:n.program(42,a,0),data:a,loc:{start:{line:66,column:3},end:{line:72,column:10}}}))?o:""},40:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="comment-count-label">\n\t\t\t\t'+n.escapeExpression((r(t,"friendlyNumber")||l&&r(l,"friendlyNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"commentCount"):o,{name:"friendlyNumber",hash:{},data:a,loc:{start:{line:68,column:4},end:{line:68,column:46}}}))+"</span>\n"},42:function(n,l,t,e,a){return'\t\t\t\t<span class="comment-count-label">\n\t\t\t\t0</span>\n'},44:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SINGULAR_COMMENT"},data:a,loc:{start:{line:74,column:71},end:{line:74,column:133}}}))},46:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_COMMENT"},data:a,loc:{start:{line:74,column:187},end:{line:74,column:247}}}))},48:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="show-more-stats">'+n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SHOW_MORE_STATS"},data:a,loc:{start:{line:79,column:30},end:{line:79,column:91}}}))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,l,t,e,a){var o,r,s,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]},p='\n<div class="right-stats-details-container">\n\t<div class="stat-item view-count'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:33},end:{line:3,column:68}}}))?o:"")+(null!=(o=c(t,"if").call(i,null!=l?c(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:68},end:{line:3,column:114}}}))?o:"")+'">\n'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.program(7,a,0),data:a,loc:{start:{line:4,column:2},end:{line:17,column:9}}}))?o:"")+'\t\t<span class="stats-label">'+(null!=(o=(c(t,"ifCond")||l&&c(l,"ifCond")||u).call(i,null!=(o=null!=l?c(l,"engagement"):l)?c(o,"viewCount"):o,"===",1,{name:"ifCond",hash:{},fn:n.program(13,a,0),inverse:n.noop,data:a,loc:{start:{line:18,column:28},end:{line:18,column:138}}}))?o:"")+(null!=(o=(c(t,"ifCond")||l&&c(l,"ifCond")||u).call(i,null!=(o=null!=l?c(l,"engagement"):l)?c(o,"viewCount"):o,"!==",1,{name:"ifCond",hash:{},fn:n.program(15,a,0),inverse:n.noop,data:a,loc:{start:{line:18,column:138},end:{line:18,column:246}}}))?o:"")+"</span>\n\t</div>\n\n"+(null!=(o=(c(t,"isFlipped")||l&&c(l,"isFlipped")||u).call(i,"enable-likes",{name:"isFlipped",hash:{},fn:n.program(17,a,0),inverse:n.program(25,a,0),data:a,loc:{start:{line:21,column:1},end:{line:60,column:15}}}))?o:"")+'\n\t<div class="stat-item comment-count'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:62,column:36},end:{line:62,column:71}}}))?o:"")+(null!=(o=c(t,"if").call(i,null!=l?c(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:62,column:71},end:{line:62,column:117}}}))?o:"")+'">\n'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(37,a,0),inverse:n.program(39,a,0),data:a,loc:{start:{line:63,column:2},end:{line:73,column:9}}}))?o:"")+'\t\t<span class="stats-label">'+(null!=(o=(c(t,"ifCond")||l&&c(l,"ifCond")||u).call(i,null!=(o=null!=l?c(l,"engagement"):l)?c(o,"commentCount"):o,"===",1,{name:"ifCond",hash:{},fn:n.program(44,a,0),inverse:n.noop,data:a,loc:{start:{line:74,column:28},end:{line:74,column:144}}}))?o:"")+(null!=(o=(c(t,"ifCond")||l&&c(l,"ifCond")||u).call(i,null!=(o=null!=l?c(l,"engagement"):l)?c(o,"commentCount"):o,"!==",1,{name:"ifCond",hash:{},fn:n.program(46,a,0),inverse:n.noop,data:a,loc:{start:{line:74,column:144},end:{line:74,column:258}}}))?o:"")+"</span>\n\t</div>\n</div>\n\n";return r=null!=(r=c(t,"showMoreStatsLink")||(null!=l?c(l,"showMoreStatsLink"):l))?r:u,s={name:"showMoreStatsLink",hash:{},fn:n.program(48,a,0),inverse:n.noop,data:a,loc:{start:{line:78,column:0},end:{line:80,column:22}}},o="function"==typeof r?r.call(i,s):r,c(t,"showMoreStatsLink")||(o=n.hooks.blockHelperMissing.call(l,o,s)),null!=o&&(p+=o),p},useData:!0}),e={};n.Array.each([],function(l){var t=n.Template.get("hermes/"+l);t&&(e[l]=t)}),n.Template.register("hermes/sub-photo-right-stats",function(l,a){return a=a||{},a.partials=a.partials?n.merge(e,a.partials):e,t(l,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-stats-photo",function(t,n){var l=t.Template.Handlebars.revive({1:function(t,n,l,a,e){var s,i,o=null!=n?n:t.nullContext||{},r=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lambda,p=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\n\t<div class="photo-stats-basics">\n\t\t<div class="photo-stats-basics-left">\n\t\t\t<a href="'+u(typeof(i=null!=(i=p(l,"url")||(null!=n?p(n,"url"):n))?i:r)===c?i.call(o,{name:"url",hash:{},data:e,loc:{start:{line:5,column:12},end:{line:5,column:19}}}):i)+'" class="photo-thumbnail" style="background-image: url('+u(typeof(i=null!=(i=p(l,"photoUrl")||(null!=n?p(n,"photoUrl"):n))?i:r)===c?i.call(o,{name:"photoUrl",hash:{},data:e,loc:{start:{line:5,column:74},end:{line:5,column:86}}}):i)+');"></a>\n\t\t\t<div class="photo-info">\n\t\t\t\t<a href="'+u(typeof(i=null!=(i=p(l,"url")||(null!=n?p(n,"url"):n))?i:r)===c?i.call(o,{name:"url",hash:{},data:e,loc:{start:{line:7,column:13},end:{line:7,column:20}}}):i)+'" class="photo-title truncate">'+u(typeof(i=null!=(i=p(l,"title")||(null!=n?p(n,"title"):n))?i:r)===c?i.call(o,{name:"title",hash:{},data:e,loc:{start:{line:7,column:51},end:{line:7,column:60}}}):i)+'</a>\n\t\t\t\t<div class="photo-posted-date">\n'+(null!=(s=(p(l,"friendlyDateScrappySubphoto")||n&&p(n,"friendlyDateScrappySubphoto")||r).call(o,null!=n?p(n,"datePosted"):n,!1,!1,{name:"friendlyDateScrappySubphoto",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e,loc:{start:{line:9,column:5},end:{line:11,column:37}}}))?s:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="photo-stats-basics-right">\n\t\t\t<div class="view-count"><i></i> '+u(d(null!=(s=null!=n?p(n,"basicStats"):n)?p(s,"viewCount"):s,n))+'</div>\n\t\t\t<div class="fave-count"><i></i> '+u(d(null!=(s=null!=n?p(n,"basicStats"):n)?p(s,"faveCount"):s,n))+'</div>\n\t\t\t<div class="comment-count"><i></i> '+u(d(null!=(s=null!=n?p(n,"basicStats"):n)?p(s,"commentCount"):s,n))+'</div>\n\t\t</div>\n\t</div>\n\n\t<div class="photo-stats-nav">\n\t\t<div class="nav-links">\n\t\t\t<div class="photo-stats-nav-link selected" data-link="views">'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.RECENT_VIEWS"},data:e,loc:{start:{line:24,column:64},end:{line:24,column:109}}}))+'</div>\n\t\t\t<div class="photo-stats-nav-link" data-link="sources">'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.SOURCES"},data:e,loc:{start:{line:25,column:57},end:{line:25,column:97}}}))+'</div>\n\t\t</div>\n\t\t<div class="photo-stats-nav-extras">\n\t\t\t<div class="date-picker">'+u(typeof(i=null!=(i=p(l,"prettyDateString")||(null!=n?p(n,"prettyDateString"):n))?i:r)===c?i.call(o,{name:"prettyDateString",hash:{},data:e,loc:{start:{line:28,column:28},end:{line:28,column:48}}}):i)+' <span></span></div>\n\t\t</div>\n\t</div>\n\n\t<div class="photo-stats-sections" data-showing="views">\n\n\t\t<div class="photo-stats-section" data-section="views">\n\t\t\t<div class="daily-views-graph">\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="photo-stats-section" data-section="sources">\n\n\t\t\t<div class="source-breakdown-left'+(null!=(s=p(l,"unless").call(o,null!=n?p(n,"hasReferrers"):n,{name:"unless",hash:{},fn:t.program(4,e,0),inverse:t.noop,data:e,loc:{start:{line:41,column:36},end:{line:41,column:82}}}))?s:"")+'">\n\t\t\t\t<div class="no-sources">\n\t\t\t\t\t'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.NO_SOURCES_TODAY"},data:e,loc:{start:{line:43,column:5},end:{line:43,column:54}}}))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="sources-pie-chart pie-chart"></div>\n\t\t\t</div>\n\n\t\t\t<div class="source-breakdown-right'+(null!=(s=p(l,"unless").call(o,null!=n?p(n,"hasReferrers"):n,{name:"unless",hash:{},fn:t.program(4,e,0),inverse:t.noop,data:e,loc:{start:{line:49,column:37},end:{line:49,column:83}}}))?s:"")+'">\n\t\t\t\t<div class="sources-breakdown">\n\t\t\t\t\t<div class="sources-breakdown-header">\n\t\t\t\t\t\t<div>'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.SOURCES"},data:e,loc:{start:{line:52,column:11},end:{line:52,column:51}}}))+"</div>\n\t\t\t\t\t\t<div>"+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.VISITS"},data:e,loc:{start:{line:53,column:11},end:{line:53,column:50}}}))+'</div>\n\t\t\t\t\t\t<div>%</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="sources-breakdown-list"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n'},2:function(t,n,l,a,e){var s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t\t\t\t\t\t"+t.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlDate:null!=n?s(n,"intlDate"):n,intlName:null!=n?s(n,"intlName"):n},data:e,loc:{start:{line:10,column:6},end:{line:10,column:57}}}))+"\n"},4:function(t,n,l,a,e){return" no-results"},6:function(t,n,l,a,e){var s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\n\t<div class="no-stats-available">\n\t\t'+t.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlName:"stats.NO_RECENT_PHOTO_STATS_AVAILABLE"},data:e,loc:{start:{line:67,column:2},end:{line:67,column:66}}}))+"\n\t</div>\n\n"},compiler:[8,">= 4.3.0"],main:function(t,n,l,a,e){var s,i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(s=i(l,"if").call(null!=n?n:t.nullContext||{},null!=n?i(n,"actuallyHasSomeStats"):n,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(6,e,0),data:e,loc:{start:{line:1,column:0},end:{line:70,column:7}}}))?s:""},useData:!0}),a={};t.Array.each([],function(n){var l=t.Template.get("hermes/"+n);l&&(a[n]=l)}),t.Template.register("hermes/stats-photo",function(n,e){return e=e||{},e.partials=e.partials?t.merge(a,e.partials):a,l(n,e)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("stats-helper",function(e){"use strict";var t;t=YUI.Env.isServer?require("querystring").stringify:function(e){var t,r,a,o=[];for(t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))for(r=0,a=e[t].length;r<a;r++)o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t][r]));else o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return o.join("&")},e.StatsHelper=function(){},e.StatsHelper.prototype.moveToFrontOfArray=function(e,t){var r=-1;return e.forEach(function(e,a){e===t&&(r=a)}),r>-1&&e.unshift(e.splice(r,1)[0]),e},e.StatsHelper.prototype.moveToEndOfArray=function(e,t){var r=-1;return e.forEach(function(e,a){e===t&&(r=a)}),r>-1&&(e.push(e[r]),e.splice(r,1)),e},e.StatsHelper.prototype.whichChild=function(e){for(var t=0;null!==(e=e.previousElementSibling);)++t;return t},e.StatsHelper.prototype.getRoundedRectanglePath=function(e,t,r,a,o,n,s){var c,i=e[0],p=e[1],u=t[0],f=t[1];return c="M"+(i+r)+","+p,c+="h"+(u-2*r),o?c+="a"+r+","+r+" 0 0 1 "+r+","+r:(c+="h"+r,c+="v"+r),c+="v"+(f-2*r),s?c+="a"+r+","+r+" 0 0 1 "+-r+","+r:(c+="v"+r,c+="h"+-r),c+="h"+(2*r-u),n?c+="a"+r+","+r+" 0 0 1 "+-r+","+-r:(c+="h"+-r,c+="v"+-r),c+="v"+(2*r-f),a?c+="a"+r+","+r+" 0 0 1 "+r+","+-r:(c+="v"+-r,c+="h"+r),c+="z"},e.StatsHelper.prototype.getIdFromParams=function(e){var r=t(e);return""===r&&(r=1),r},e.StatsHelper.prototype.convertStorageTotalToRealNumber=function(e){var t=e;return-1===e&&(t=-1),t},e.StatsHelper.prototype.convertStorageAmountToRealNumber=function(e){var t,r,a;return e=parseInt(e,10)||1,t=Math.ceil(Math.log(e)/Math.LN10),r=Math.floor(t/3),a=e/Math.pow(10,3*r),a=Math.floor(100*a)/100},e.StatsHelper.prototype.convertNaturalLanguageDateToRealDateTimestamp=function(t,r){var a,o="";switch(a=e.moment(),r){case"today":o=a;break;case"yesterday":o=a.subtract(1,"days");break;case"thisweek":case"week":o=a.startOf("week");break;case"lastweek":o=a.subtract(1,"weeks").startOf("week");break;case"twoweeksago":case"theweekbeforethat":o=a.subtract(2,"weeks").startOf("week");break;case"threeweeksago":case"theweekbeforetheweekbeforethat":o=a.subtract(3,"weeks").startOf("week")}return""!==o&&(o=new e.TimezoneHelper(t,o.format("X"),"+00:00").toFormat("YYYY-MM-DD")),o}},"@VERSION@",{affinity:"",requires:["flickr-promise","event-custom","moment","timezone-helper"],optional:[]});YUI.add("flickr-stats-photo-daily-views-fetcher",function(e,s){"use strict";e.namespace("ModelFetchers")["flickr-stats-photo-daily-views"]={run:function(t,a){var o=this;return new e.FlickrPromise({apiResponse:a.callAPI("flickr.stats.photo.getGraphData",this._processParams(t)),modelRegistry:a.getModelRegistry("stats-photo-daily-views-models")}).then(function(e){return o._processResponse(e,t)},e.FetcherErrorLogger(s))},_processResponse:function(s,t){var a,o,i,r,n,d,l=s.apiResponse.stats.graphdata,c=s.modelRegistry,p={},m={};return d={views:0,favs:0,comments:0},a={id:t.id},l&&(p=l,Object.keys(l).forEach(function(e,s){p[e].burp||p[e].nodot?delete p[e]:(i?(i>e&&(i=e),n<e&&(n=e)):(i=e,n=e),p[e].views||(p[e].views=0),p[e].comments||(p[e].comments=0),p[e].favs||(p[e].favs=0),p[e].views=parseInt(p[e].views,10),p[e].favs=parseInt(p[e].favs,10),p[e].comments=parseInt(p[e].comments,10),d.views+=p[e].views,d.favs+=p[e].favs,d.comments+=p[e].comments)})),a.days=p,a.oldestDate=i,a.newestDate=n,a.totals=d,c.exists(a.id)?(m=c.getValue("days"),a.days=e.merge(a.days,m),o=c.getValue("oldestDate"),i>o&&(a.oldestDate=o),r=c.getValue("newestDate"),n>r&&(a.newestDate=r),a.totals+=e.merge(a.totals,c.getValue("totals")),c.setValues(a.id,a)):c.add(a),a},_processParams:function(e){return{id:e.id,photo_id:e.photoId}}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["stats-photo-daily-views-models"]});YUI.add("stats-photo-daily-views-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,remote:{read:function(e){return t.ModelFetchers["flickr-stats-photo-daily-views"].run(e,this.appContext)}},attributes:{days:{},oldestDate:{},newestDate:{},totals:{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-stats-photo-daily-views-fetcher"]});YUI.add("flickr-stats-referrer-domains-fetcher",function(e,r){"use strict";var t=require("hermes-core/flog")(r),s={flickr:"flickr","search engine":"search",social:"social",yahoo:"search",google:"search",bing:"search",twitter:"social",facebook:"social",pinterest:"social",tumblr:"social","flickr embedr":"flickr embedr"};e.namespace("ModelFetchers")["flickr-stats-referrer-domains"]={run:function(r,s){var o=this;return new e.FlickrPromise({apiResponse:s.callAPI("flickr.stats.getReferrerCategoriesForDate",this._processParams(r)),modelRegistry:s.getModelRegistry("stats-referrer-domains-models")}).then(function(e){return o._processResponse(e,r)},function(e){if(2===e.code)return t.error({err:e,id:r.id,date:r.date}),s.getModelRegistry("stats-referrer-domains-models").then(function(e){e.addOrUpdate({id:r.id,missingData:!0})});throw e})},_processResponse:function(e,r){var t,o,i,a=e.apiResponse,n=e.modelRegistry,c={},d={},l=0,f=a.stat;if(t={id:r.id},delete a.stat,i=Object.keys(a),a.stat=f,0===i.length)throw o=new Error("[flickr-stats-referrer-domains-fetcher] api returned ok but did not contain the data needed"),o.fatal=!0,o;return i.forEach(function(e,r){var t,o=s[e.toLowerCase()],i=a[e];o||(o="other"),c[o]||(c[o]={}),d[o]||(d[o]=0),t=i.viewcount,delete i.viewcount,c[o]=i,d[o]+=t,l+=t}),t.referrers=c,t.totals=d,t.total=l,n.addOrUpdate(t),t},_processParams:function(e){return{id:e.id,date:e.date||"",photo_id:e.photoId||""}}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["stats-referrer-domains-models"]});YUI.add("stats-referrer-domains-models",function(e){function r(e){r.superclass.constructor.call(this,e)}e.Models[this.name]=r,e.extend(r,e.FlickrModelRegistry,{name:this.name,remote:{read:function(r){return e.ModelFetchers["flickr-stats-referrer-domains"].run(r,this.appContext)}},attributes:{referrers:{defaultValue:{}},totals:{defaultValue:{}},total:{defaultValue:0},missingData:{defaultValue:!1}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-stats-referrer-domains-fetcher"]});